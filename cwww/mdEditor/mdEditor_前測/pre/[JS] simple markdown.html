<html>
<head>
<Title> </Title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.4.0/showdown.min.js"></script>

<script language="JavaScript">
function clearSpace(inText)
{
  //inText.replace(
  
  var text=inText.replace(/\n\s*\n/g,"\n"); //空白行殺掉
  var leadingws = text.match(/^(\s*)/)[1].length; //找之前的空白字元
  regex     = new RegExp('^\\s{' + leadingws + '}','g');
  text=text.replace(regex,'\n');  
  console.log(text);
 return text;
 
 
}
function doMarkdown()
{
   var list =document.querySelectorAll('[block-markdown]');
   for(var i=0;i<list.length;i++){
     var x=list[i].innerText;
	 var text = clearSpace(x);
     var conv = new showdown.Converter();
	 var html= conv.makeHtml(text)
     
	  console.log(html);
   }
}

</script>
</head>
<body>

<pre>
 <section  block-markdown>
  ## Who Am I?

  * who
  * [com](www.nkfust.edu.tw)

  </section>
</pre>   
  <button onclick="doMarkdown()">go</button>



</body>
</html>